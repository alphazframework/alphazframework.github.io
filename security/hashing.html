<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hashing | Zest Framework</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Zest Framework Documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.6ba2a0ee.css" as="style"><link rel="preload" href="/assets/js/app.302a5d7b.js" as="script"><link rel="preload" href="/assets/js/2.48f357d1.js" as="script"><link rel="preload" href="/assets/js/28.42077925.js" as="script"><link rel="prefetch" href="/assets/js/10.7bd2e366.js"><link rel="prefetch" href="/assets/js/11.0ce2d21f.js"><link rel="prefetch" href="/assets/js/12.0c955f34.js"><link rel="prefetch" href="/assets/js/13.e2c0e8d0.js"><link rel="prefetch" href="/assets/js/14.52434abe.js"><link rel="prefetch" href="/assets/js/15.19294d7b.js"><link rel="prefetch" href="/assets/js/16.7cfc5c85.js"><link rel="prefetch" href="/assets/js/17.db791133.js"><link rel="prefetch" href="/assets/js/18.88075047.js"><link rel="prefetch" href="/assets/js/19.e170331d.js"><link rel="prefetch" href="/assets/js/20.d0ff5775.js"><link rel="prefetch" href="/assets/js/21.d3991c35.js"><link rel="prefetch" href="/assets/js/22.fb1374a6.js"><link rel="prefetch" href="/assets/js/23.7b1e4026.js"><link rel="prefetch" href="/assets/js/24.6a93196a.js"><link rel="prefetch" href="/assets/js/25.ee8d2e22.js"><link rel="prefetch" href="/assets/js/26.4a484640.js"><link rel="prefetch" href="/assets/js/27.35777a2d.js"><link rel="prefetch" href="/assets/js/3.79d0cf85.js"><link rel="prefetch" href="/assets/js/4.e188c870.js"><link rel="prefetch" href="/assets/js/5.dd4d9bf4.js"><link rel="prefetch" href="/assets/js/6.4a0603f6.js"><link rel="prefetch" href="/assets/js/7.c1fcb464.js"><link rel="prefetch" href="/assets/js/8.b0834112.js"><link rel="prefetch" href="/assets/js/9.9ac24cae.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ba2a0ee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zest Framework</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basics/" class="nav-link">
  Basic
</a></div><div class="nav-item"><a href="/security/" class="nav-link router-link-active">
  Security
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  Components
</a></div><div class="nav-item"><a href="/docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><a href="https://alphasofthub.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AlphaSoftHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zestframework/zestframework.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basics/" class="nav-link">
  Basic
</a></div><div class="nav-item"><a href="/security/" class="nav-link router-link-active">
  Security
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  Components
</a></div><div class="nav-item"><a href="/docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><a href="https://alphasofthub.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AlphaSoftHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zestframework/zestframework.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Security</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/security/" aria-current="page" class="sidebar-link">Encryption</a></li><li><a href="/security/hashing.html" aria-current="page" class="active sidebar-link">Hashing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/security/hashing.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/security/hashing.html#basic-usage" class="sidebar-link">Basic Usage</a></li><li class="sidebar-sub-header"><a href="/security/hashing.html#supported-algorithm" class="sidebar-link">Supported algorithm</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hashing"><a href="#hashing" class="header-anchor">#</a> Hashing</h1> <p>This Package provides secure Bcrypt and Argon2 hashing for storing user passwords.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The Argon2i driver requires PHP 7.2.0 or greater and the Argon2id
driver requires PHP 7.3.0 or greater.</p></div> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>The default <code>hashing</code> adapter in config file <code>Config/App.php</code> is set <code>bcrypt</code>
!!! info
Bcrypt is a great choice for hashing passwords because its &quot;work factor&quot; is adjustable, which means that the time it takes to generate a hash can be increased as hardware power increases.</p> <p>There are few other config option are availabe <code>cost</code> option for <code>bcrypt</code> adapter, <code>memory</code>, <code>thread</code> and <code>time</code> for <code>argon's</code>.</p> <h2 id="basic-usage"><a href="#basic-usage" class="header-anchor">#</a> Basic Usage</h2> <p>You may hash a password by calling the <code>make</code> method on the Hashing Class:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> 
<span class="token keyword">use</span> <span class="token package">Zest<span class="token punctuation">\</span>Hashing<span class="token punctuation">\</span>Hashing</span><span class="token punctuation">;</span>

<span class="token variable">$hashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Original password</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token number">123456</span><span class="token punctuation">;</span>
<span class="token comment">//Hash the password</span>
<span class="token variable">$password_hash</span> <span class="token operator">=</span> <span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$password_hash</span><span class="token punctuation">;</span>
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="adjusting-the-bcrypt-work-factor"><a href="#adjusting-the-bcrypt-work-factor" class="header-anchor">#</a> Adjusting The Bcrypt Work Factor</h3> <p>If you are using the Bcrypt algorithm, the <code>make</code> method allows you to manage the work factor of the algorithm using the  cost option:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$hashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'bcrypt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$password_hash</span> <span class="token operator">=</span> <span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'cost'</span> <span class="token operator">=&gt;</span> <span class="token number">12</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="adjusting-the-argon2-work-factor"><a href="#adjusting-the-argon2-work-factor" class="header-anchor">#</a> Adjusting The Argon2 Work Factor</h3> <p>If you are using the Argon2I or Argon2Id algorithm, the <code>make</code> method allows you to manage the work factor of the algorithm using the  memory, time, and threads options:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$hashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'argon2i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$password_hash</span> <span class="token operator">=</span> <span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'memory'</span> <span class="token operator">=&gt;</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'time'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'threads'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>!!! info
For more information on these options, check out the  <a href="https://secure.php.net/manual/en/function.password-hash.php" target="_blank" rel="noopener noreferrer">official PHP documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="verifying-a-password-against-a-hash"><a href="#verifying-a-password-against-a-hash" class="header-anchor">#</a> Verifying A Password Against A Hash</h3> <p>The <code>verify</code> method allows you to verify that a given plain-text string corresponds to a given hash</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">verify</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">,</span><span class="token variable">$password_hash</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//The password matched.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="checking-if-a-password-needs-to-be-rehashed"><a href="#checking-if-a-password-needs-to-be-rehashed" class="header-anchor">#</a> Checking If A Password Needs To Be Rehashed</h3> <p>The <code>needsRehash</code> function allows you to determine if the work factor used by the hashing has changed since the password was hashed:</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">needsRehash</span><span class="token punctuation">(</span><span class="token variable">$hashed</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$password_hash</span> <span class="token operator">=</span> <span class="token variable">$hashing</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="supported-algorithm"><a href="#supported-algorithm" class="header-anchor">#</a> Supported algorithm</h2> <p>in this library three algorithm are supported</p> <ul><li>Bcrypt</li> <li>Argon2I</li> <li>Argon2ID</li></ul> <h3 id="switch-between-algorithm"><a href="#switch-between-algorithm" class="header-anchor">#</a> Switch between algorithm</h3> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$hashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'supported-algorithm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$bvcryptHashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'bcrypt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="default-work-factors"><a href="#default-work-factors" class="header-anchor">#</a> Default work factors</h4> <p>You can provide default work factors like</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>
<span class="token comment">//Argon2</span>
<span class="token variable">$argon2Hashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'argon2i'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'memory'</span> <span class="token operator">=&gt;</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'time'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'threads'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'verify'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Bcrypt</span>
<span class="token variable">$vcryptHashing</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashing</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'bcrypt'</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'cost'</span> <span class="token operator">=&gt;</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'verify'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>here verify option is additional indicate that if this set to true the algorithm is also sticky check on verify, if both algorithm are not matched then means password is not correct.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/22/2022, 4:20:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/security/" class="prev router-link-active">
        Encryption
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.302a5d7b.js" defer></script><script src="/assets/js/2.48f357d1.js" defer></script><script src="/assets/js/28.42077925.js" defer></script>
  </body>
</html>
